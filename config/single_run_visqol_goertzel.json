{
    "load_ref": {
        "type": "LoadSignalNode",
        "output_key": "reference_signal",
        "children": ["load_deg"],
        "signal_path": "resources/reference/ref.wav",
        "file_name_key": "reference_file"
    },
    "load_deg": {
        "type": "LoadSignalNode",
        "output_key": "degraded_signal",
        "children": ["visqol_args"],
        "signal_path": "resources/degraded/deg.wav",
        "file_name_key": "degraded_file"
    },
    "visqol_args": {
        "output_key": "visqol_args",
        "children": ["channel_loop"],
        "type": "VisqolStructuresNode",
        "config_file_path": "config/visqol/structures/default_visqol_goertzel_structures.json"
    },
    "channel_loop": {
        "children": ["mos_mapping"],
        "output_key": "vnsims_goertzel",
        "type": "LoopNode",
        "iterable_key": "active_channels",
        "key_blacklist": ["wav_files", "vnsims_goertzel"],
        "start_node": "extract_channels",
        "node_data": {
            "extract_channels": {
                "children": ["scale_signals"],
                "type": "ViSQOLChannelNode"
            },
            "scale_signals": {
                "children": ["ref_spect"],
                "type": "ScaleSignalsNode"
            },
            "ref_spect": {
                "children": ["deg_spect"],
                "output_key": "reference_spect",
                "type": "SpectrogramNode",
                "signal_key": "reference_signal",
                "file_name_key": "reference_file",
                "save_spectrogram": true,
                "output_dir": "spectrograms/goertzel/"
            },
            "deg_spect": {
                "children": ["floor_spect"],
                "output_key": "degraded_spect",
                "type": "SpectrogramNode",
                "signal_key": "degraded_signal",
                "file_name_key": "degraded_file",
                "save_spectrogram": true,
                "output_dir": "spectrograms/goertzel/"
            },
            "floor_spect": {
                "children": ["reference_patches"],
                "type": "FloorSpectrogramsNode"
            },
            "reference_patches": {
                "children": ["vad"],
                "type": "ReferencePatchNode"
            },
            "vad": {
                "children": ["patch_alignment"],
                "type": "VADNode"
            },
            "patch_alignment": {
                "children": ["patch_similarity"],
                "type": "PatchAlignmentNode"
            },
            "patch_similarity": {
                "type": "PatchSimilarityNode",
                "output_key": "similarity_data"
            }
        }
    },
    "mos_mapping": {
        "type": "MOSMapperNode",
        "children": ["output"],
        "output_key": "mos",
        "target_key": "vnsims_goertzel.similarity_data",
        "visqol_args_key": "visqol_args"
    },
    "output": {
        "type": "IdentityNode"
    }
}